$link(A, 1.0.0.0/30)
$link(B, 1.0.0.8/30)
$link(C, 1.0.0.4/30)
$link(D, 1.0.0.16/30)
$link(E, 1.0.0.20/30)
$link(F, 1.0.0.24/30)
$link(G, 1.0.0.12/30)
$link(H, 10.0.23.0/24)
$link(I, 10.0.12.0/24)
$link(J, 10.0.13.0/24)
$link(K, 10.1.0.0/24)
$link(L, 10.2.0.0/24)
$link(M, 1.0.0.28/30)

$router(as10r1, J, 10.0.13.1|eth0)
$router(as10r1, I, 10.0.12.1|eth1)
$router(as10r1, K, 10.1.0.1|eth2)
$rip(as10r1, 10.0.0.0/8)

$router(as10r2, L, 10.2.0.1|eth0)
$router(as10r2, I, 10.0.12.2|eth1)
$router(as10r2, H, 10.0.23.2|eth2)
$rip(as10r2, 10.0.0.0/8)

$router(as10r3, M, 1.0.0.30|eth0)
$router(as10r3, E, 1.0.0.22|eth1)
$router(as10r3, H, 10.0.23.3|eth2)
$router(as10r3, J, 10.0.13.3|eth3)
$router(as10r3, F, 1.0.0.26|eth4)
$rip(as10r3, 10.0.0.0/8)
$bgp(as10r3, 10, 10.0.0.0/8, 10.1.0.0/24, 10.2.0.0/24, 10.0.0.20/30, 10.0.0.24/30, 10.0.0.28/30)

$router(as100r1, A, 1.0.0.1|eth0)
$router(as100r1, B, 1.0.0.9|eth1)
$bgp(as100r1, 100)

$router(as200r1, C, 1.0.0.5|eth0)
$router(as200r1, A, 1.0.0.2|eth1)
$bgp(as200r1, 200)

$router(as300r1, C, 1.0.0.6|eth0)
$router(as300r1, D, 1.0.0.17|eth1)
$router(as300r1, M, 1.0.0.29|eth2)
$router(as300r1, G, 1.0.0.13|eth3)
$router(as300r1, B, 1.0.0.10|eth4)
$bgp(as300r1, 300)
$bgp_preference(as300r1, 1.0.0.18, 10.2.0.0/24)
$bgp_preference(as300r1, 1.0.0.14, 10.1.0.0/24)

$router(as400r1, G, 1.0.0.14|eth0)
$router(as400r1, F, 1.0.0.25|eth1)
$bgp(as400r1, 400)

$router(as500r1, E, 1.0.0.21|eth0)
$router(as500r1, D, 1.0.0.18|eth1)
$bgp(as500r1, 500)

$bgp_prefix(as100r1, 1.0.0.10, deny, 10.0.0.0/8, in)
