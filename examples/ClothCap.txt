$link(A, 10.14.0.0/24)
$link(B, 10.11.0.0/24)
$link(C, 10.20.0.0/24)
$link(D, 20.0.0.0/30)
$link(E, 20.0.0.4/30)
$link(F, 12.20.0.0/24)
$link(G, 11.12.0.0/24)
$link(H, 11.13.0.0/24)
$link(I, 11.14.0.0/24)
$link(J, 12.13.0.0/24)
$link(K, 11.20.0.0/24)
$link(L, 20.1.0.0/24)
$link(M, 20.2.0.0/24)
$link(N, 13.14.0.0/24)


$router(as10r1, A, 10.14.0.10|eth0)
$router(as10r1, B, 10.11.0.10|eth1)
$router(as10r1, C, 10.20.0.10|eth2)
$bgp(as10r1, 10)
$bgp_prefix(as10r1, 10.20.0.1, deny, 20.0.0.0/8, in)
$bgp_prefix(as10r1, 10.20.0.1, deny, 20.1.0.0/24, in)
$bgp_prefix(as10r1, 10.20.0.1, deny, 20.2.0.0/24, in)

$router(as11r1, I, 11.14.0.11|eth0)
$router(as11r1, H, 11.13.0.11|eth1)
$router(as11r1, G, 11.12.0.11|eth2)
$router(as11r1, K, 11.20.0.11|eth3)
$router(as11r1, B, 10.11.0.11|eth4)
$bgp(as11r1, 11)

$router(as12r1, F, 12.20.0.12|eth0)
$router(as12r1, G, 11.12.0.12|eth1)
$router(as12r1, J, 12.13.0.12|eth2)
$bgp(as12r1, 12)

$router(as13r1, J, 12.13.0.13|eth0)
$router(as13r1, H, 11.13.0.13|eth1)
$router(as13r1, N, 13.14.0.13|eth2)
$bgp(as13r1, 13)

$router(as14r1, N, 13.14.0.14|eth0)
$router(as14r1, I, 11.14.0.14|eth1)
$router(as14r1, A, 10.14.0.14|eth2)
$bgp(as14r1, 14)

$router(as20r1, L, 20.1.0.1|eth0)
$router(as20r1, D, 20.0.0.1|eth1)
$router(as20r1, C, 10.20.0.1|eth2)
$router(as20r1, M, 20.2.0.1|eth3)
$rip(as20r1, 20.0.0.0/8)
$bgp(as20r1, 20, 20.0.0.0/8, 20.1.0.0/24, 20.2.0.0/24)
$bgp_only_ebgp_reds(as20r1)

$router(as20r2, K, 11.20.0.2|eth0)
$router(as20r2, E, 20.0.0.5|eth1)
$router(as20r2, D, 20.0.0.2|eth2)
$rip(as20r2, 20.0.0.0/8)
$bgp(as20r2, 20, 20.0.0.0/8, 20.1.0.0/24, 20.2.0.0/24)
$bgp_only_ebgp_reds(as20r2)

$router(as20r3, F, 12.20.0.3|eth0)
$router(as20r3, E, 20.0.0.6|eth1)
$rip(as20r3, 20.0.0.0/8)
$bgp(as20r3, 20, 20.0.0.0/8, 20.1.0.0/24, 20.2.0.0/24)
$bgp_only_ebgp_reds(as20r3)

$bgp_preference(as10r1, 10.14.0.14, 20.1.0.0/24)
$bgp_preference(as10r1, 10.11.0.11, 20.2.0.0/24)

$bgp_preference(as11r1, 20.1.0.0/24)
$bgp_preference(as11r1, 20.1.0.0/24)
$bgp_preference(as11r1, 20.2.0.0/24)
$bgp_preference(as11r1, 20.2.0.0/24)

$bgp_preference(as13r1, 20.1.0.0/24)
$bgp_preference(as13r1, 20.2.0.0/24)

$bgp_preference(as14r1, 20.1.0.0/24)

